<aside 
  class="relative bg-[#161616] text-gray-300 transition-all duration-300 ease-in-out flex flex-col"
  [class.w-64]="isOpen()" 
  [class.w-20]="!isOpen()">

  <div class="flex items-center justify-center h-16 border-b border-gray-700">
    <div class="flex items-center space-x-3">
      <svg class="h-8 w-auto text-[#0f62fe]" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2L1 9l11 7 9-7-2.5-1.57L12 12.69 5.5 8.43 12 4.16 18.5 8.43 12 12.69V19l7-4.38V9.5L12 14.84 5 9.5v5.38L1 9l11-7zM5 15.5v-2.13l6 3.75 1-0.63V19l-7-4.38z" />
      </svg>
      @if (isOpen()) {
        <span class="text-2xl font-bold text-white">EduFlow</span>
      }
    </div>
  </div>
  
  <div class="flex-grow p-4 space-y-4">
    <div class="bg-gray-700/50 rounded-md p-3 text-sm text-white font-semibold flex items-center space-x-3">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-400 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
      </svg>
      @if (isOpen()) {
        <div class="flex-1 overflow-hidden">
          <p class="text-xs text-gray-400 truncate">Current Role</p>
          <p class="font-bold truncate">{{ role() }}</p>
        </div>
      }
    </div>

    <nav class="mt-4 flex-1">
      @for (item of menuItems(); track item.label) {
        <a href="#" 
          (click)="onMenuItemClick(item.label, $event)"
          class="relative flex items-center px-4 py-3 my-1 transition-colors duration-200 transform rounded-md group"
          [class.justify-start]="isOpen()"
          [class.justify-center]="!isOpen()"
          [class]="item.active ? 'bg-blue-950 text-white' : 'text-gray-400 hover:bg-gray-700 hover:text-white'"
          >
          @if(item.active) {
            <span class="absolute left-0 inset-y-0 w-1 bg-blue-500 rounded-r-md"></span>
          }
          <span [innerHTML]="getIcon(item.icon)" class="h-6 w-6 flex-shrink-0"></span>
          @if (isOpen()) {
            <span class="ml-4 font-medium">{{ item.label }}</span>
          }
        </a>
      }
    </nav>
  </div>
  
  <div class="p-4 border-t border-gray-700">
    <a href="#" class="flex items-center px-4 py-2 mt-2 text-gray-400 hover:bg-gray-700 hover:text-white rounded-md" [class.justify-start]="isOpen()" [class.justify-center]="!isOpen()">
      <svg class="w-6 h-6 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
      @if (isOpen()) {
        <span class="ml-4 font-medium">Help</span>
      }
    </a>
     @if (isOpen()) {
      <p class="text-xs text-center text-gray-500 mt-4">Version 1.0</p>
     }
  </div>
</aside>